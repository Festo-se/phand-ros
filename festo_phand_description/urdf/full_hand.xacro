<?xml version="1.0"?>
<robot name="full_hand" xmlns:xacro="http://ros.org/wiki/xacro">

  <xacro:include filename="$(find festo_phand_description)/urdf/wrist_macro.xacro" />
  <xacro:include filename="$(find festo_phand_description)/urdf/finger_macro.xacro" />
  <xacro:include filename="$(find festo_phand_description)/urdf/cylinder_macro.xacro" />
  <xacro:include filename="$(find festo_phand_description)/urdf/thumb_macro.xacro" />
  <xacro:include filename="$(find festo_phand_description)/urdf/hand_macro.xacro" />
  <xacro:include filename="$(find festo_phand_description)/urdf/common_material_and_constants.xacro" />

    <xacro:wrist  prefix="" version="" />

    <xacro:finger  prefix="pinky_" version="small" />
    <xacro:finger  prefix="ring" version="big" />
    <xacro:finger  prefix="middle" version="big" />
    <xacro:finger  prefix="index" version="big" />

    <xacro:thumb  prefix="" version="" />

    <xacro:cylinder  prefix="" version="index" />
    <xacro:cylinder  prefix="left" version="wrist" />
    <xacro:cylinder  prefix="right" version="wrist" />

    <xacro:hand  prefix="" version="" />

   <link name="base_link" >

   </link>
    <joint
           name="base_joint"
        type="fixed">
            <origin
                    xyz="0 0 0"
                    rpy="0 0 0"/> //1.629 -0.248 -0.326

            <parent link="base_link"/>
            <child link="wrist_base"/>

    </joint>

    //pinky
  <link name="pinky_base_dummy" >

  </link>
    <joint
           name="hand_pinky"
                type="fixed">
            <origin
                    xyz="-0.04879 0.01961  0.12328"
                    rpy="1.643 -0.319 0"/> //1.629 -0.248 -0.326 .643 -0.319 0

            <parent link="hand"/>

            <child link="pinky_base_dummy"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
  </joint>
    <joint
           name="hand_pinky2"
                type="fixed">
            <origin
                    xyz="0 0 0"
                    rpy=" 0 1.57 0"/> //1.629 -0.248 -0.326

            <parent link="pinky_base_dummy"/>

            <child link="pinky_base_link"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
  </joint>

    //ring
  <link name="ring_base_dummy" >

  </link>
    <joint
           name="hand_ring"
                type="fixed">
            <origin
                    xyz="-0.0182 0.02676 0.13027"
                    rpy="1.49 -0.055 0"/> //1.629 -0.248 -0.326

            <parent link="hand"/>

            <child link="ring_base_dummy"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
    </joint>
    <joint
           name="hand_ring2"
                type="fixed">
            <origin
                    xyz="0 0 0"
                    rpy=" 0 1.57 0"/> //1.629 -0.248 -0.326

            <parent link="ring_base_dummy"/>

            <child link="ringbase_link"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
  </joint>

    //middle
  <link name="middle_base_dummy" >

  </link>
    <joint
           name="hand_middle"
                type="fixed">
            <origin
                    xyz="0.00579 0.01641 0.13459"
                    rpy="1.588 0.078 0"/> //1.629 -0.248 -0.326

            <parent link="hand"/>

            <child link="middle_base_dummy"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
    </joint>
    <joint
           name="middle_ring2"
                type="fixed">
            <origin
                    xyz="0 0 0"
                    rpy=" 0 1.1 0"/> //1.629 -0.248 -0.326

            <parent link="middle_base_dummy"/>

            <child link="middlebase_link"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
  </joint>

    //index
  <link name="index_base_dummy" >

  </link>
    <joint
           name="indexBase_index"
                type="fixed">
            <origin
                    xyz="0.0005 0.00634 0.03501"
                    rpy="1.588 0 0"/> //1.588 0.078 0

            <parent link="index_base_joint"/>

            <child link="index_base_dummy"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
    </joint>
    <joint
           name="indexBase_index2"
                type="fixed">
            <origin
                    xyz="0 0 0"
                    rpy=" 0 -0.4 0"/> //0 1.1 0

            <parent link="index_base_dummy"/>

            <child link="indexbase_link"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
  </joint>

    //index_cylinder
    <joint
           name="index_cylinder_base"
                type="revolute">
            <origin
                    xyz="-0.02396 0.02209 0.03342"
                    rpy="${(45)*M_PI/180} -0.141 1.15"/> //1.588 0.078 0

            <parent link="hand"/>

            <child link="cylinder_base"/>

            <axis
                    xyz="-1 0 0"/>

                <limit
                    lower="-3"
                    upper="3"
                    effort="0"
                    velocity="0"/>
    </joint>
    <joint
           name="index_cylinder_tip"
                type="revolute">
            <origin
                    xyz="0 0 0.04475"
                    rpy="0 0 0"/> //1.588 0.078 0

            <parent link="rod"/>

            <child link="index_base_joint"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
    </joint>

    //thumb
    <joint
           name="hand_thumb"
                type="fixed">
            <origin
                    xyz="0 0 0.025"
                    rpy="0 0 0"/> //1.588 0.078 0

            <parent link="hand"/>

            <child link="drive"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
    </joint>

    //wrist
    //fake links for fake joints mentionned below
<!--    <link name="fakeX" >-->

<!--  </link>-->
<!--    <link name="fakeZ" >-->

<!--  </link>-->


    <joint
           name="hand_wrist"
                type="fixed">
            <origin
                    xyz="0.00489 -0.0341 0.02622"
                    rpy="-0.1682 -0.0842 -1.1466"/> //-0.145 -0.13 -1.15

            <parent link="wrist_top"/>

            <child link="hand"/>

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="-1"
                    upper="1"
                    effort="0"
                    velocity="0"/>
    </joint>

    //fake joints to manually set roll, pitch and yaw of the hand
<!--    <joint-->
<!--           name="fake_hand_wrist"-->
<!--                type="revolute">-->
<!--            <origin-->
<!--                    xyz="0 0 0"-->
<!--                    rpy="0 0 -1.1466"/> //-0.145 -0.13 -1.15-->

<!--            <parent link="fakeX"/>-->

<!--            <child link="fakeZ"/>-->

<!--            <axis-->
<!--                    xyz="0 0 1"/>-->

<!--                <limit-->
<!--                    lower="-1"-->
<!--                    upper="1"-->
<!--                    effort="0"-->
<!--                    velocity="0"/>-->
<!--    </joint>-->
<!--    <joint-->
<!--           name="fake_hand_wrist2"-->
<!--                type="revolute">-->
<!--            <origin-->
<!--                    xyz="0 0 0"-->
<!--                    rpy="0 -0.0842 0"/> //-0.145 -0.13 -1.15-->

<!--            <parent link="fakeZ"/>-->

<!--            <child link="hand"/>-->

<!--            <axis-->
<!--                    xyz="0 1 0"/>-->

<!--                <limit-->
<!--                    lower="-1"-->
<!--                    upper="1"-->
<!--                    effort="0"-->
<!--                    velocity="0"/>-->
<!--    </joint>-->

    //forearm_cylinders
    //LEFT

    <link name="horizontal_dummyL" >
  </link>
    <link name="vertical_dummyL" >
  </link>

    <joint
           name="wristBase_horizontal_L"
                type="revolute">
            <origin
                    xyz="0.02702 0.02695 -0.15803"
                    rpy="0 0 0.349"/> //

            <parent link="wrist_base"/>

            <child link="horizontal_dummyL"/> //leftcylinder_base

            <axis
                    xyz="1 0 0"/>

                <limit
                    lower="-1"
                    upper="1"
                    effort="0"
                    velocity="0"/>
    </joint>
    <joint
           name="horizontal_L_vertical_L"
                type="revolute">
            <origin
                    xyz="-0.00928 0 0"
                    rpy="0 0 0"/> //

            <parent link="horizontal_dummyL"/>

            <child link="vertical_dummyL"/> //leftcylinder_base

            <axis
                    xyz="0 1 0"/>

                <limit
                    lower="-1"
                    upper="1"
                    effort="0"
                    velocity="0"/>
    </joint>
    <joint
           name="vertical_L_leftcylinder_base"
                type="fixed">
            <origin
                    xyz="0.00928 0 0"
                    rpy="0 0 0"/> //

            <parent link="vertical_dummyL"/>

            <child link="leftcylinder_base"/> //

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
    </joint>


    <link name="horizontal_dummyR" >
  </link>
    <link name="vertical_dummyR" >
  </link>

    <joint
           name="wristBase_cylinderR"
                type="revolute">
            <origin
                    xyz="0.02702 -0.02695 -0.15808"
                    rpy="0 0 -0.349"/> //

            <parent link="wrist_base"/>

            <child link="horizontal_dummyR"/> //leftcylinder_base

            <axis
                    xyz="1 0 0"/>

                <limit
                    lower="-1"
                    upper="1"
                    effort="0"
                    velocity="0"/>
    </joint>
    <joint
           name="horizontal_R_vertical_R"
                type="revolute">
            <origin
                    xyz="-0.00928 0 0"
                    rpy="0 0 0"/> //

            <parent link="horizontal_dummyR"/>

            <child link="vertical_dummyR"/> //leftcylinder_base

            <axis
                    xyz="0 1 0"/>

                <limit
                    lower="-1"
                    upper="1"
                    effort="0"
                    velocity="0"/>
    </joint>
    <joint
           name="vertical_R_rightcylinder_base"
                type="fixed">
            <origin
                    xyz="0.00928 0 0"
                    rpy="0 0 0"/> //

            <parent link="vertical_dummyR"/>

            <child link="rightcylinder_base"/> //

            <axis
                    xyz="0 0 0"/>

                <limit
                    lower="0"
                    upper="0"
                    effort="0"
                    velocity="0"/>
    </joint>





</robot>


